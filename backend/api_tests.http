### Contact Form API Tests
### This file can be used in PyCharm/IntelliJ HTTP Client to test the API endpoints

### Variables
@baseUrl = http://localhost:8000/api/v1
@contentType = application/json

### Test 1: Submit Contact Form (Legacy endpoint)
POST {{baseUrl}}/contact/
Content-Type: {{contentType}}

{
  "name": "John Doe",
  "email": "john.doe@example.com",
  "subject": "Test Contact Form",
  "message": "This is a test message to verify the contact form is working properly."
}

### Test 2: Create Contact Message (New ViewSet endpoint)
POST {{baseUrl}}/contact-messages/
Content-Type: {{contentType}}

{
  "name": "Jane Smith",
  "email": "jane.smith@example.com",
  "subject": "Another Test Message",
  "message": "This is another test message using the new ViewSet endpoint."
}

### Test 3: List Contact Messages (Admin only - requires authentication)
GET {{baseUrl}}/contact-messages/
Content-Type: {{contentType}}

### Test 4: Get Contact Message Details (Admin only - requires authentication)
GET {{baseUrl}}/contact-messages/1/
Content-Type: {{contentType}}

### Test 5: Mark Message as Read (Admin only - requires authentication)
POST {{baseUrl}}/contact-messages/1/mark_as_read/
Content-Type: {{contentType}}

### Test 6: Get Unread Count (Admin only - requires authentication)
GET {{baseUrl}}/contact-messages/unread_count/
Content-Type: {{contentType}}

### Test 7: Update Contact Message (Admin only - requires authentication)
PUT {{baseUrl}}/contact-messages/1/
Content-Type: {{contentType}}

{
  "name": "John Doe Updated",
  "email": "john.updated@example.com",
  "subject": "Updated Subject",
  "message": "This message has been updated by an admin.",
  "is_read": true
}

### Test 8: Delete Contact Message (Admin only - requires authentication)
DELETE {{baseUrl}}/contact-messages/1/
Content-Type: {{contentType}}

### Test 9: Invalid Contact Form (Missing required fields)
POST {{baseUrl}}/contact/
Content-Type: {{contentType}}

{
  "name": "Test",
  "email": "invalid-email",
  "subject": "Short",
  "message": "Too short"
}

### Test 10: Invalid Contact Form (Empty fields)
POST {{baseUrl}}/contact/
Content-Type: {{contentType}}

{
  "name": "",
  "email": "",
  "subject": "",
  "message": ""
}
